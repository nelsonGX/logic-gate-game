generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model GameRoom {
  id            String     @id @default(uuid())
  roomCode      String     @unique
  team          Int
  studentAmount Int
  answerString  String
  status        String     @default("waiting") // waiting, active, completed
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
  
  students      Student[]
}

model Student {
  id            String     @id @default(uuid())
  gameRoomId    String
  displayName   String
  assignedBits  String     // JSON string: ["0","1","2"] (bit positions)
  solvedBits    String?    // Binary result: "101"
  questions     String     // JSON array of questions with answers
  answers       String?    // JSON array of student's answers
  isCompleted   Boolean    @default(false)
  completedAt   DateTime?
  
  gameRoom      GameRoom   @relation(fields: [gameRoomId], references: [id])
}